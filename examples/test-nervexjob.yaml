apiVersion: nervex.sensetime.com/v1alpha1
kind: NerveXJob
metadata:
  name: nervexjob-example
spec:
  group: xxx
  priorityClassName: default
  coordinator:
    template:
      spec:
        containers:
        - name: coordinator
          image: registry.sensetime.com/cloudnative4ai/liqingping/coordinator:v0.0.2
          imagePullPolicy: Always
          command: ["/coordinator"]
          args: 
          - --nervex-server
          - http://nervex-server.nervex-system:8080
          - --actors
          - "2"
          - --learners
          - "1"
  collector:
    template:
      spec:
        containers:
        - name: collector
          image: registry.sensetime.com/cloudnative4ai/nginx:latest
          ports:
          - name: collector
            containerPort: 80
  learner:
    template:
      spec:
        containers:
        - name: learner
          image: registry.sensetime.com/cloudnative4ai/nginx:latest
          ports:
          - name: learner
            containerPort: 80

# spc run nervexjob --image --cpus-per-pod 6 --gpus-per-pod 8